<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Panel Admin • Xanaes Lab</title>
  <link rel="stylesheet" href="../styles/main.css" />
  <link rel="stylesheet" href="styles/admin.css" />
</head>
<body>
  <header class="app-header">
    <div class="branding">
      <img src="../assets/logo.svg" alt="Xanaes Lab" class="logo" />
      <div>
        <h1>Panel administrativo</h1>
        <p class="tagline">Gestioná catálogos y ofertas</p>
      </div>
    </div>
    <nav>
      <button class="nav-link" data-panel="dashboard">Dashboard</button>
      <button class="nav-link" data-panel="supermarkets">Supermercados</button>
      <button class="nav-link" data-panel="offers">Ofertas</button>
      <button class="nav-link" data-panel="products">Productos</button>
    </nav>
  </header>

  <main class="admin-main">
    <section id="panel-dashboard" class="panel">
      <div class="card">
        <h2>Estado general</h2>
        <div class="stats-grid">
          <div>
            <h3>Ofertas</h3>
            <p id="admin-stats-offers">0</p>
          </div>
          <div>
            <h3>Supermercados</h3>
            <p id="admin-stats-supermarkets">0</p>
          </div>
          <div>
            <h3>Última importación</h3>
            <p id="admin-stats-import">-</p>
          </div>
        </div>
      </div>
      <div class="card">
        <h2>Acciones rápidas</h2>
        <div class="actions">
          <button id="admin-refresh" class="primary">Refrescar datos</button>
          <a href="../index.html" class="secondary">Volver a la app</a>
        </div>
      </div>
    </section>

    <section id="panel-supermarkets" class="panel" hidden>
      <div class="card">
        <h2>Alta de supermercado</h2>
        <form id="form-supermarket" class="form-grid">
          <label>Nombre<input type="text" name="nombre" required /></label>
          <label>Ciudad
            <select name="ciudad" required>
              <option value="Rio Segundo">Río Segundo</option>
              <option value="Pilar">Pilar</option>
            </select>
          </label>
          <label>Dirección<input type="text" name="direccion" required /></label>
          <label>Teléfono<input type="text" name="telefono" /></label>
          <label>URL Maps<input type="url" name="mapsUrl" /></label>
          <button type="submit" class="primary">Guardar supermercado</button>
        </form>
      </div>
      <div class="card">
        <h2>Listado</h2>
        <div id="list-supermarkets" class="list"></div>
      </div>
    </section>

    <section id="panel-offers" class="panel" hidden>
      <div class="card">
        <h2>Editor de oferta</h2>
        <form id="form-offer" class="form-grid">
          <input type="hidden" name="id" />
          <label>Supermercado<input type="text" name="supermercado" required /></label>
          <label>Ciudad
            <select name="ciudad" required>
              <option value="Rio Segundo">Río Segundo</option>
              <option value="Pilar">Pilar</option>
            </select>
          </label>
          <label>Categoría<input type="text" name="categoria" required /></label>
          <label>Producto<input type="text" name="producto" required /></label>
          <label>Marca<input type="text" name="marca" required /></label>
          <label>Presentación<input type="text" name="presentacion" required /></label>
          <label>SKU<input type="text" name="sku" /></label>
          <label>Promo tipo<input type="text" name="promoTipo" value="ninguna" /></label>
          <label>Promo parámetro<input type="text" name="promoParam" /></label>
          <label>Promo condición<input type="text" name="promoCondicion" /></label>
          <label>Precio individual<input type="number" step="0.01" name="precioIndividual" required /></label>
          <label>Precio total<input type="number" step="0.01" name="precioTotal" /></label>
          <label>Moneda<input type="text" name="moneda" value="ARS" /></label>
          <label>Vigencia desde<input type="date" name="vigenciaDesde" required /></label>
          <label>Vigencia hasta<input type="date" name="vigenciaHasta" required /></label>
          <label>Fuente<input type="text" name="fuente" /></label>
          <label>Id externo<input type="text" name="idExterno" /></label>
          <label>Página<input type="text" name="pagina" /></label>
          <label>Posición<input type="text" name="posicion" /></label>
          <label>Cantidad base<input type="number" name="cantidadBase" value="1" /></label>
          <label>Unidad base<select name="unidadBase"><option value="u">u</option><option value="g">g</option><option value="ml">ml</option></select></label>
          <label>Min. promo<input type="number" name="minCantidadPromo" value="1" /></label>
          <label>Es banco<select name="esBanco"><option value="false">No</option><option value="true">Sí</option></select></label>
          <button type="submit" class="primary">Guardar oferta</button>
          <button type="button" id="offer-reset" class="secondary">Limpiar formulario</button>
        </form>
      </div>
      <div class="card">
        <h2>Ofertas cargadas</h2>
        <input type="search" id="search-offers" placeholder="Buscar por producto, marca o super" />
        <div class="table-container">
          <table id="table-offers" class="compare-table">
            <thead>
              <tr><th>Producto</th><th>Marca</th><th>Supermercado</th><th>Ciudad</th><th>Precio</th><th>Vigencia</th><th>Acciones</th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>

    <section id="panel-products" class="panel" hidden>
      <div class="card">
        <h2>Catálogo de productos</h2>
        <input type="search" id="search-products" placeholder="Buscar" />
        <div id="list-products" class="list"></div>
      </div>
    </section>
  </main>

  <script type="module" src="scripts/admin.js"></script>
</body>
</html>
